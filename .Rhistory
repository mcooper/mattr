dplyr::select(iso3c=REGION, Year, Population, `Population|Female|Aged0-4`, `Population|Male|Aged0-4`)
head(gdp)
head(pop)
comb <- merge(gdp, pop, all.x=T, all.y=T)
dim(comb)
library(countrycode)
countrycode(comb$iso3c[is.na(comb$GDP_PPP_2005USD_Bill)], 'iso3c', 'country.name')
substr(dat$GDLcode, 1, 3)
substr(dat$GDLcode, 1, 3) -> gdl_iso
substr(dat$GDLcode, 1, 3) %>% unique -> gdl_iso
gdl_iso
gdl_iso[!gdl_iso %in% comb$iso3c]
countrycode(gdl_iso[!gdl_iso %in% comb$iso3c], 'iso3c', 'country.names')
countrycode(gdl_iso[!gdl_iso %in% comb$iso3c], 'iso3c', 'country.name')
head(comb)
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
head(comb)
hist(comb$GDP_PerCap[comb$Year==2020])
comb$iso3c[is.na(comb$Population)]
new_all %>% filter(REGION == 'TWN') %>% View
comb$Population[comb$iso3c=='CHN']
head(comb)
View(comb)
c2020 <- comb %>% filter(Year==2020)
head(c2020)
c2020$iso3c[duplicated(c2020$iso3c)]
View(c2020)
pop <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('Population', "Population|Female|Aged0-4", "Population|Male|Aged0-4")) %>%
spread(VARIABLE, Value) %>%
na.omit %>%
mutate(Year=as.numeric(substr(Year, 2, 5)))
View(pop)
pop <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('Population', "Population|Female|Aged0-4", "Population|Male|Aged0-4")) %>%
spread(VARIABLE, Value) %>%
na.omit %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
dplyr::select(iso3c=REGION, Year, Population, `Population|Female|Aged0-4`, `Population|Male|Aged0-4`)
View(pop)
View(gdp)
gdp <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('GDP|PPP')) %>%
mutate(Year=as.numeric(substr(Year, 2, 5)))
View(gdp)
table(gdp$MODEL)
gdp <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('GDP|PPP'),
MODEL='OECD Env-Growth') %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
dplyr::select(iso3c=REGION, Year, GDP_PPP_2005USD_Bill=Value) %>%
na.omit()
gdp <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('GDP|PPP'),
MODEL=='OECD Env-Growth') %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
dplyr::select(iso3c=REGION, Year, GDP_PPP_2005USD_Bill=Value) %>%
na.omit()
View(gdp)
table(gdp$iso3c)
new_all$REGION[!new_all$REGION %in% gdp$iso3c]
new_all$REGION[!new_all$REGION %in% gdp$iso3c] %>% unique
new_all$REGION[!new_all$REGION %in% gdp$iso3c] %>% unique %>% countrycode('iso3c', 'country.name')
new_all$VARIABLE
new_all %>%
ehad
new_all %>% heada
new_all %>% head
new_all %>% filter(MODEL=='IIASA-WiC POP') %>% View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE)) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE)) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE)) %>%
select(REGION, VARIABLE, X2020, X2025, X2030) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
View
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
View
n <- new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15))
sum(is.na(n$Years_Ed))
new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
gather(Year, pop, -REGION, -VARIABLE) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
View
n <- new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
gather(Year, pop, -REGION, -VARIABLE) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
group_by(REGION, YEAR) %>%
summarize(mean_years_ed=weighted.mean(Years_Ed, pop))
n <- new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
gather(Year, pop, -REGION, -VARIABLE) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
group_by(REGION, Year) %>%
summarize(mean_years_ed=weighted.mean(Years_Ed, pop))
View(n)
gdp <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('GDP|PPP'),
MODEL=='OECD Env-Growth') %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
dplyr::select(iso3c=REGION, Year, GDP_PPP_2005USD_Bill=Value) %>%
na.omit()
pop <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('Population', "Population|Female|Aged0-4", "Population|Male|Aged0-4")) %>%
spread(VARIABLE, Value) %>%
na.omit %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
dplyr::select(iso3c=REGION, Year, Population, `Population|Female|Aged0-4`, `Population|Male|Aged0-4`)
edu <- new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(REGION, VARIABLE, X2020, X2025, X2030) %>%
gather(Year, pop, -REGION, -VARIABLE) %>%
mutate(Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
group_by(REGION, Year) %>%
summarize(mean_years_ed=weighted.mean(Years_Ed, pop))
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu))
dim(comb)
View(comb)
head(edu)
edu <- new_all %>%
filter(MODEL=='IIASA-WiC POP',
grepl('Education', VARIABLE),
!grepl('Aged(0|5-|10-|15|20)', VARIABLE, perl = TRUE)) %>%
dplyr::select(iso3c=REGION, VARIABLE, X2020, X2025, X2030) %>%
gather(Year, pop, -iso3c, -VARIABLE) %>%
mutate(Year=as.numeric(substr(Year, 2, 5)),
Years_Ed=case_when(grepl("No Ed", VARIABLE) ~ 0,
grepl("Primary", VARIABLE) ~ 5,
grepl("Secondary", VARIABLE) ~ 10,
grepl("Tertiary", VARIABLE) ~ 15)) %>%
group_by(iso3c, Year) %>%
summarize(mean_years_ed=weighted.mean(Years_Ed, pop))
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu))
View(comb)
head(dat)
#Fill in missing values with similarish countries
gdl_iso <- dat$iso_code %>% unique
gdl_iso
comb$iso3c[!comb$iso3c %in% gdl_iso]
gdl_iso[!gdl_iso %in% comb$iso3c]
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
comb$alldat
head(comb)
comb$alldat <- rowSums(is.na(comb %>% dplyr::select(-iso3c, -Year)))
head(comb$alldat)
comb$alldat <- rowSums(is.na(comb %>% dplyr::select(-iso3c, -Year))) == 0
head(comb$alldat)
cty <- ne_countries(returnclass = 'sf')
dim(cty)
cty <- ne_countries(returnclass = 'sf') %>%
merge(comb %>% filter(Year == 2020))
dim(cty)
head(comb)
names(cty)
cty <- ne_countries(returnclass = 'sf') %>%
merge(comb %>% filter(Year == 2020) %>% select(iso3c, alldat))
cty <- ne_countries(returnclass = 'sf') %>%
merge(comb %>% filter(Year == 2020) %>% dplyr::select(iso3c, alldat))
dim(cty)
head(cty)
dim(comb %>% filter(Year == 2020) %>% dplyr::select(iso3c, alldat))
m <- comb %>% filter(Year == 2020) %>% dplyr::select(iso3c, alldat)
dim(m)
head(m)
sum(duplicated(m$iso3c))
dim(cty)
m <- comb %>% filter(Year == 2020) %>% dplyr::select(iso3c, alldat)
cty <- ne_countries(returnclass = 'sf')
dim(cty)
intersect(names(cty), names(m))
names(cty)
names(m)
cty <- ne_countries(returnclass = 'sf') %>%
rename(iso3c=iso_a3) %>%
merge(m, all.x=T, all.y=F)
dim(cty)
ggplot(cty) +
geom_sf(aes(fill=alldat))
cty$iso3c[cty$sovereignt=='South Sudan']
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu))
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
library(readxl)
ssp_dir
##########################################
# Get Gini
######################################
gini <- read_xlsx(file.path(ssp_dir, 'Gini/Gini_projections_SSPs.xlsx'), sheet = 'projected_ginis_full-set')
head(gini)
##########################################
# Get Gini
######################################
gini <- read_xlsx(file.path(ssp_dir, 'Gini/Gini_projections_SSPs.xlsx'),
sheet = 'projected_ginis_full-set') %>%
filter(scenario=='SSP3', year %in% c(2020, 2025, 2030))
gini
##########################################
# Get Gini
######################################
gini <- read_xlsx(file.path(ssp_dir, 'Gini/Gini_projections_SSPs.xlsx'),
sheet = 'projected_ginis_full-set') %>%
filter(scenario=='SSP3', year %in% c(2020, 2025, 2030)) %>%
gather(Country, Gini, -scenario, -year)
head(gini)
gini <- read_xlsx(file.path(ssp_dir, 'Gini/Gini_projections_SSPs.xlsx'),
sheet = 'projected_ginis_full-set') %>%
filter(scenario=='SSP3', year %in% c(2020, 2025, 2030)) %>%
gather(Country, Gini, -scenario, -year)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu, gini))
dim(comb)
head(gini)
gini <- read_xlsx(file.path(ssp_dir, 'Gini/Gini_projections_SSPs.xlsx'),
sheet = 'projected_ginis_full-set') %>%
filter(scenario=='SSP3', year %in% c(2020, 2025, 2030)) %>%
gather(Country, Gini, -scenario, -year) %>%
dplyr::select(-scenario, Year=year, iso3c=Country, Gini)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu, gini))
dim(comb)
head(comb)
pop <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('Population', "Population|Female|Aged0-4", "Population|Male|Aged0-4")) %>%
spread(VARIABLE, Value) %>%
na.omit %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
mutate(Population_Under5 = `Population|Female|Aged0-4` + `opulation|Male|Aged0-4`) %>%
dplyr::select(iso3c=REGION, Year, Population, Population_Under5)
pop <- new_all %>%
filter(grepl('SSP3', SCENARIO)) %>%
gather(Year, Value, -MODEL, -SCENARIO, -REGION, -VARIABLE, -UNIT) %>%
filter(Year %in% c('X2020', 'X2025', 'X2030'),
VARIABLE %in% c('Population', "Population|Female|Aged0-4", "Population|Male|Aged0-4")) %>%
spread(VARIABLE, Value) %>%
na.omit %>%
mutate(Year=as.numeric(substr(Year, 2, 5))) %>%
mutate(Population_Under5 = `Population|Female|Aged0-4` + `Population|Male|Aged0-4`) %>%
dplyr::select(iso3c=REGION, Year, Population, Population_Under5)
head(pop)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu, gini))
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
dat <- readOGR(dsn=file.path(gdl_dir, 'extract rasters'), layer='GDL Shapefiles V4')
##########################################
# Get gridded urb-rur data
#############################################
urb2020 <- raster(file.path(ssp_dir, 'Population/SSP3/Urban/GeoTIFF/ssp3urb2020.tif'))
urb2030 <- raster(file.path(ssp_dir, 'Population/SSP3/Urban/GeoTIFF/ssp3urb2030.tif'))
rur2020 <- raster(file.path(ssp_dir, 'Population/SSP3/Rural/GeoTIFF/ssp3rur2020.tif'))
rur2030 <- raster(file.path(ssp_dir, 'Population/SSP3/Rural/GeoTIFF/ssp3rur2030.tif'))
b <- brick(stack(urb2020, urb2030, rur2020, rur2030))
e <- extract(b, dat, fun=sum, na.rm=T)
dat <- cbind(dat, e)
#Infer 2025 values using geometric mean
dat$ssp3urb2025 <- apply(dat@data[ , c('ssp3urb2020','ssp3urb2030')],
MARGIN = 1,
FUN=function(x){exp(mean(log(x)))})
dat$ssp3rur2025 <- apply(dat@data[ , c('ssp3rur2020','ssp3rur2030')],
MARGIN = 1,
FUN=function(x){exp(mean(log(x)))})
-74.0731809 + 180
100.4960972 - 180
head(dat@data)
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi))
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi)
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code)
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
head
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11))) %>%
head
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11))) %>%
tail
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11)),
Var=substr(Var, 5, 7)) %>%
tail
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11)),
Var=substr(Var, 5, 7)) %>%
head
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11)),
Var=paste0(substr(Var, 5, 7), '_pop')) %>%
head
dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11)),
Var=paste0(substr(Var, 5, 7), '_pop')) %>%
spread(Var, Pop)
urb_rur <- dat@data %>%
dplyr::select(-constant, -country, -region, -shdi) %>%
gather(Var, Pop, -GDLcode, -iso_code) %>%
mutate(Year=as.numeric(substr(Var, 8, 11)),
Var=paste0(substr(Var, 5, 7), '_pop')) %>%
spread(Var, Pop) %>%
rename(iso3c=iso_code)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(urb_rur, gdp, pop, edu, gini))
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
head(comb)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu, gini))
write.csv(urb_rur, file.path(gdl_dir, 'GDL_Urban_Rural.csv'), row.names=F)
comb <- Reduce(function(x, y){merge(x, y, all.x=T, all.y=T)},
list(gdp, pop, edu, gini))
comb$GDP_PerCap <- comb$GDP_PPP_2005USD_Bill/comb$Population
write.csv(comb, file.path(gdl_dir, 'SSP3_Vars.csv'), row.names=F)
dat <- read.csv('G://My Drive/WHC Data/SSP3_Vars.csv')
head(Dat)
head(dat)
dat <- read.csv('G://My Drive/WHC Data/GDL_Urban_Rural.csv')
head(dat)
dat %>% filter(Year==2020) %>%
mutate(urb_perc = urb_pop/(rur_pop + urb_pop))
library(tidyverse)
dat %>% filter(Year==2020) %>%
mutate(urb_perc = urb_pop/(rur_pop + urb_pop))
dat %>% filter(Year==2020) %>%
mutate(urb_perc = urb_pop/(rur_pop + urb_pop)) %>%
hist(.$urb_perc)
d <- dat %>% filter(Year==2020) %>%
mutate(urb_perc = urb_pop/(rur_pop + urb_pop))
hist(d$urb_perc)
library(raster)
?resample
?rasterize
library(tidyverse)
library(raster)
library(rgdal)
pop1990 <- raster('G://My Drive/DHS Spatial Covars/Population/gpw_v1_population_count_rev10_1990_2pt5_min.tif')
pop2000 <- raster('G://My Drive/DHS Spatial Covars/Population/gpw_v4_population_count_rev10_2000_2pt5_min.tif')
pop1995 <- exp((log(pop1990) + log(pop2000))/2)
r <- raster('G://My Drive/WHC Data/gl_grumpv1_urextent_ascii_30/glurextents.asc')
r
?aggreagte
?aggregate
pop1995
0.04166667/0.00833333
resamp <- aggregate(r, fact=5)
resampe
resamp <- aggregate(r, fact=5, fun=mean)
r
hist(r)
r
resamp <- aggregate(r==1, fact=5, fun=mean)
beepr::beep(sound='mario')
resamp
library(raster)
library(rgdal)
library(tidyverse)
if(Sys.info()['sysname'] == 'Windows'){
gdl_dir <- 'G://My Drive/WHC Data'
dat_dir <- 'G://My Drive/WHC Data/extract rasters'
pop_dir <- 'G://My Drive/DHS Spatial Covars/Population/'
} else{
gdl_dir <- '~'
dat_dir <- '~/mortalityblob/whc'
pop_dir <- '~'
}
pop1995 <- raster(file.path(pop_dir, "gl_gpwv3_pcount_95_ascii_25/glp95ag.asc"))
urb1995 <- raster(file.path(gdl_dir, '/UrbanPerc1995.tif'))
urbpop1995 <- urb1995*pop1995
rurpop1995 <- pop1995 - urbpop1995
dat <- readOGR(dsn=dat_dir, layer='GDL Shapefiles V4')
start <- Sys.time()
e_urb <- raster::extract(urbpop1995, dat)
table(1:3)
class(table(1:3))
class(table(c(1:3, NA), na.include='always'))
table(c(1:3, NA), na.include='always')
table(c(1, NA), na.include='always')
table(c(1, 2, 3))
table(c(1, 2, NA, 3))
table(c(1, 2, NA, 3), useNA = 'always')
table.na <- function(x){
table.na(x, useNA='always')
}
table.na(c(1, 2, NA, 3))
?table
table.na <- function(...){
table.na(..., useNA='always')
}
table.na(c(1, 2, NA, 3))
table.na <- function(...){
table.na(..., useNA='ifany')
}
table.na(c(1, 2, NA, 3))
table.na <- function(...){
base::table(..., useNA='ifany')
}
table.na(c(1, 2, NA, 3))
setwd()
getwd()
setwd('mattr')
library(roxygen2)
roxygen2::roxygenise()
roxygen2::roxygenise()
warnings()
library(devtools)
install_github('mcooper/mattr')
library(mattr, lib.loc = "C:Users/matt")
table
na_ct
